<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<meta name="copyright" content="Copyright 2009 David Singer"/>
	<meta name="author" content="David Singer david@ramaboo.com"/>
	<meta name="description" content=""/>
	<meta name="keywords" content=""/>
	<title>API Documentation for Boo-2.0.x: /var/www/Boo-2.0.0/classes/Twitter.php Source File</title>
	<link rel="stylesheet" href="doxygen.css" type="text/css" media="screen">
	<link rel="stylesheet" href="tabs.css" type="text/css" media="screen">
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_2d402fa29e6cd3b6ca13957b8f90c436.html">var</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_cbe856ff790c9ba5208811309bdf168b.html">www</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_0cb189417002a9d0dd27c92823e85ab7.html">Boo-2.0.0</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_06e5fa5afca5819e2841f23c7a8558e7.html">classes</a>
  </div>
</div>
<div class="contents">
<h1>Twitter.php</h1><a href="_twitter_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 <span class="comment">/* SVN FILE: $Id: Twitter.php 215 2009-03-17 01:15:42Z david@ramaboo.com $ */</span><span class="comment"></span>
<a name="l00003"></a>00003 <span class="comment">/**</span>
<a name="l00004"></a>00004 <span class="comment"> * @brief Twitter class.</span>
<a name="l00005"></a>00005 <span class="comment"> * </span>
<a name="l00006"></a>00006 <span class="comment"> * This class is used to interact with the Twitter API.</span>
<a name="l00007"></a>00007 <span class="comment"> * </span>
<a name="l00008"></a>00008 <span class="comment"> * Based on twitterlibphp by Justin Poliey.</span>
<a name="l00009"></a>00009 <span class="comment"> * </span>
<a name="l00010"></a>00010 <span class="comment"> * @class       Boo_Twitter</span>
<a name="l00011"></a>00011 <span class="comment"> * @license     http://www.opensource.org/licenses/mit-license.php MIT License</span>
<a name="l00012"></a>00012 <span class="comment"> * @license     http://www.gnu.org/licenses/gpl-3.0.txt GNU General Public License</span>
<a name="l00013"></a>00013 <span class="comment"> * @link        http://github.com/jdp/twitterlibphp/ twitterlibphp</span>
<a name="l00014"></a>00014 <span class="comment"> * @link        http://code.ramaboo.com/ Boo Framework</span>
<a name="l00015"></a>00015 <span class="comment"> * @copyright   2008 Justin Poliey</span>
<a name="l00016"></a>00016 <span class="comment"> * @copyright   2009 David Singer</span>
<a name="l00017"></a>00017 <span class="comment"> * @author      Justin Poliey &lt;jdp34@njit.edu&gt;</span>
<a name="l00018"></a>00018 <span class="comment"> * @author      David Singer &lt;david@ramaboo.com&gt;</span>
<a name="l00019"></a>00019 <span class="comment"> * @version     2.0.1</span>
<a name="l00020"></a>00020 <span class="comment"> * @see         http://apiwiki.twitter.com/</span>
<a name="l00021"></a>00021 <span class="comment"> */</span>
<a name="l00022"></a>00022 
<a name="l00023"></a><a class="code" href="class_boo___twitter.html">00023</a> <span class="keyword">class </span><a class="code" href="class_boo___twitter.html" title="Twitter class.">Boo_Twitter</a> <span class="keyword">extends</span> <a class="code" href="class_boo___db.html" title="Database class.">Boo_Db</a> {<span class="comment"></span>
<a name="l00024"></a>00024 <span class="comment">    /**</span>
<a name="l00025"></a>00025 <span class="comment">     * @brief Twitter username.</span>
<a name="l00026"></a>00026 <span class="comment">     */</span>
<a name="l00027"></a><a class="code" href="class_boo___twitter.html#a3696ce1a73b1a25e6923fcc4a1d703c0">00027</a>     <span class="keyword">protected</span> <a class="code" href="class_boo___twitter.html#a3696ce1a73b1a25e6923fcc4a1d703c0" title="Twitter username.">$username</a> = <span class="keyword">false</span>;
<a name="l00028"></a>00028     <span class="comment"></span>
<a name="l00029"></a>00029 <span class="comment">    /**</span>
<a name="l00030"></a>00030 <span class="comment">     * @brief Twitter password.</span>
<a name="l00031"></a>00031 <span class="comment">     */</span>
<a name="l00032"></a><a class="code" href="class_boo___twitter.html#afe2546405dff70ea7801af44206cb34a">00032</a>     <span class="keyword">protected</span> <a class="code" href="class_boo___twitter.html#afe2546405dff70ea7801af44206cb34a" title="Twitter password.">$password</a> = <span class="keyword">false</span>;
<a name="l00033"></a>00033     <span class="comment"></span>
<a name="l00034"></a>00034 <span class="comment">    /**</span>
<a name="l00035"></a>00035 <span class="comment">     * @brief Contains the last HTTP status code returned.</span>
<a name="l00036"></a>00036 <span class="comment">     */</span>
<a name="l00037"></a><a class="code" href="class_boo___twitter.html#a536c0c8f7891410fa5ca7e9e50acbf9a">00037</a>     <span class="keyword">protected</span> <a class="code" href="class_boo___twitter.html#a536c0c8f7891410fa5ca7e9e50acbf9a" title="Contains the last HTTP status code returned.">$httpStatus</a> = <span class="keyword">false</span>;
<a name="l00038"></a>00038     <span class="comment"></span>
<a name="l00039"></a>00039 <span class="comment">    /**</span>
<a name="l00040"></a>00040 <span class="comment">     * @brief Contains the last API call.</span>
<a name="l00041"></a>00041 <span class="comment">     */</span>
<a name="l00042"></a><a class="code" href="class_boo___twitter.html#ac23db10372c0a86a192cc88f23d063e9">00042</a>     <span class="keyword">protected</span> <a class="code" href="class_boo___twitter.html#ac23db10372c0a86a192cc88f23d063e9" title="Contains the last API call.">$lastApiCall</a> = <span class="keyword">false</span>;
<a name="l00043"></a>00043     <span class="comment"></span>
<a name="l00044"></a>00044 <span class="comment">    /**</span>
<a name="l00045"></a>00045 <span class="comment">     * @brief Contains the application calling the API.</span>
<a name="l00046"></a>00046 <span class="comment">     * </span>
<a name="l00047"></a>00047 <span class="comment">     * @attention Must be registered first.</span>
<a name="l00048"></a>00048 <span class="comment">     * @see http://twitter.com/help/request_source</span>
<a name="l00049"></a>00049 <span class="comment">     */</span>
<a name="l00050"></a><a class="code" href="class_boo___twitter.html#a9cc52d792cca20ffe7cce061c668f1f9">00050</a>     <span class="keyword">protected</span> <a class="code" href="class_boo___twitter.html#a9cc52d792cca20ffe7cce061c668f1f9" title="Contains the application calling the API.">$applicationSource</a> = <span class="stringliteral">&apos;boo&apos;</span>;
<a name="l00051"></a>00051     <span class="comment"></span>
<a name="l00052"></a>00052 <span class="comment">    /**</span>
<a name="l00053"></a>00053 <span class="comment">     * @brief Return format.</span>
<a name="l00054"></a>00054 <span class="comment">     * @see Boo_Twitter::getSupportedFormat();</span>
<a name="l00055"></a>00055 <span class="comment">     */</span>
<a name="l00056"></a><a class="code" href="class_boo___twitter.html#a65ad7217150158c6b29b2b7e76f76fbd">00056</a>     <span class="keyword">protected</span> <a class="code" href="class_boo___twitter.html#a65ad7217150158c6b29b2b7e76f76fbd" title="Return format.">$format</a> = <span class="stringliteral">&apos;xml&apos;</span>;
<a name="l00057"></a>00057     <span class="comment"></span>
<a name="l00058"></a>00058 <span class="comment">    /**</span>
<a name="l00059"></a>00059 <span class="comment">     * @brief Array of supported formats.</span>
<a name="l00060"></a>00060 <span class="comment">     */</span>
<a name="l00061"></a><a class="code" href="class_boo___twitter.html#a40679712e0ef795ae8d17e2bab816a79">00061</a>     <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_boo___twitter.html#a40679712e0ef795ae8d17e2bab816a79" title="Array of supported formats.">$supportedFormats</a> = array(<span class="stringliteral">&apos;xml&apos;</span>, <span class="stringliteral">&apos;json&apos;</span>, <span class="stringliteral">&apos;rss&apos;</span>, <span class="stringliteral">&apos;atom&apos;</span>);
<a name="l00062"></a>00062     
<a name="l00063"></a>00063     
<a name="l00064"></a><a class="code" href="class_boo___twitter.html#adeda27b3473207b8471fcf4f41e314be">00064</a>     <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_boo___twitter.html#adeda27b3473207b8471fcf4f41e314be">$supportedDevices</a> = array(<span class="stringliteral">&apos;sms&apos;</span>, <span class="stringliteral">&apos;im&apos;</span>, <span class="stringliteral">&apos;none&apos;</span>);
<a name="l00065"></a>00065     
<a name="l00066"></a>00066     <span class="comment"></span>
<a name="l00067"></a>00067 <span class="comment">    /**</span>
<a name="l00068"></a>00068 <span class="comment">     * @brief Maximum length of username.</span>
<a name="l00069"></a>00069 <span class="comment">     */</span>
<a name="l00070"></a><a class="code" href="class_boo___twitter.html#a6cf644c7e0c93453551f8923fdbc3c72">00070</a>     <span class="keyword">const</span> <a class="code" href="class_boo___twitter.html#a6cf644c7e0c93453551f8923fdbc3c72" title="Maximum length of username.">MAX_USERNAME_LENGTH</a> = 15;
<a name="l00071"></a>00071     <span class="comment"></span>
<a name="l00072"></a>00072 <span class="comment">    /**</span>
<a name="l00073"></a>00073 <span class="comment">     * @brief Minimum length of username.</span>
<a name="l00074"></a>00074 <span class="comment">     */</span>
<a name="l00075"></a><a class="code" href="class_boo___twitter.html#a35818608a974d63b5365400db2aab490">00075</a>     <span class="keyword">const</span> <a class="code" href="class_boo___twitter.html#a35818608a974d63b5365400db2aab490" title="Minimum length of username.">MIN_USERNAME_LENGTH</a> = 1;
<a name="l00076"></a>00076     <span class="comment"></span>
<a name="l00077"></a>00077 <span class="comment">    /**</span>
<a name="l00078"></a>00078 <span class="comment">     * @brief Maximum length of password.</span>
<a name="l00079"></a>00079 <span class="comment">     */</span>
<a name="l00080"></a><a class="code" href="class_boo___twitter.html#aac75ffe6794fa62378130772e523441e">00080</a>     <span class="keyword">const</span> <a class="code" href="class_boo___twitter.html#aac75ffe6794fa62378130772e523441e" title="Maximum length of password.">MAX_PASSWORD_LENGTH</a> = 30;
<a name="l00081"></a>00081     <span class="comment"></span>
<a name="l00082"></a>00082 <span class="comment">    /**</span>
<a name="l00083"></a>00083 <span class="comment">     * @brief Minimum length of password.</span>
<a name="l00084"></a>00084 <span class="comment">     */</span>
<a name="l00085"></a><a class="code" href="class_boo___twitter.html#a7e8f9ada577cf42713f51f67286f0d7f">00085</a>     <span class="keyword">const</span> <a class="code" href="class_boo___twitter.html#a7e8f9ada577cf42713f51f67286f0d7f" title="Minimum length of password.">MIN_PASSWORD_LENGTH</a> = 6;
<a name="l00086"></a>00086 <span class="comment"></span>
<a name="l00087"></a>00087 <span class="comment">    /**</span>
<a name="l00088"></a>00088 <span class="comment">     * @brief Default constructor.</span>
<a name="l00089"></a>00089 <span class="comment">     * @return void.</span>
<a name="l00090"></a>00090 <span class="comment">     * @param string $username[optional] Twitter username.</span>
<a name="l00091"></a>00091 <span class="comment">     * @param string $password[optional] Twitter password.</span>
<a name="l00092"></a>00092 <span class="comment">     */</span>
<a name="l00093"></a><a class="code" href="class_boo___twitter.html#af0fe5267f3169453296d0a7a5cfc962e">00093</a>     <span class="keyword">public</span> <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#af0fe5267f3169453296d0a7a5cfc962e" title="Default constructor.">__construct</a>(<a class="code" href="class_boo___twitter.html#a3696ce1a73b1a25e6923fcc4a1d703c0" title="Twitter username.">$username</a> = <span class="keyword">false</span>, <a class="code" href="class_boo___twitter.html#afe2546405dff70ea7801af44206cb34a" title="Twitter password.">$password</a> = <span class="keyword">false</span>) {
<a name="l00094"></a>00094         <span class="keywordflow">if</span> (<a class="code" href="class_boo___twitter.html#a3696ce1a73b1a25e6923fcc4a1d703c0" title="Twitter username.">$username</a> !== <span class="keyword">false</span>) {
<a name="l00095"></a>00095             $this-&gt;<a class="code" href="class_boo___twitter.html#abcba9d36979d23d4ced3823520ada5b8">setUsername</a>(<a class="code" href="class_boo___twitter.html#a3696ce1a73b1a25e6923fcc4a1d703c0" title="Twitter username.">$username</a>);
<a name="l00096"></a>00096         }
<a name="l00097"></a>00097         
<a name="l00098"></a>00098         <span class="keywordflow">if</span> (<a class="code" href="class_boo___twitter.html#afe2546405dff70ea7801af44206cb34a" title="Twitter password.">$password</a> !== <span class="keyword">false</span>) {
<a name="l00099"></a>00099             $this-&gt;<a class="code" href="class_boo___twitter.html#a0ad77493b16a69327805d18d0edfb260">setPassword</a>(<a class="code" href="class_boo___twitter.html#afe2546405dff70ea7801af44206cb34a" title="Twitter password.">$password</a>);
<a name="l00100"></a>00100         }
<a name="l00101"></a>00101     }
<a name="l00102"></a>00102     
<a name="l00103"></a><a class="code" href="class_boo___twitter.html#af53c69f2905b4617dccd4e2ff214212e">00103</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#af53c69f2905b4617dccd4e2ff214212e">saveSession</a>() {
<a name="l00104"></a>00104         $_SESSION[<span class="stringliteral">&apos;booTwitter&apos;</span>] = serialize($this);
<a name="l00105"></a>00105         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00106"></a>00106     }
<a name="l00107"></a>00107     
<a name="l00108"></a><a class="code" href="class_boo___twitter.html#a87af67309e696a9e3c030746f9f2fa2f">00108</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a87af67309e696a9e3c030746f9f2fa2f">openSession</a>() {
<a name="l00109"></a>00109         
<a name="l00110"></a>00110         <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="class_boo___twitter.html#af31aa1c9bbdb5930983fdcfe787b331b">hasSession</a>()) {
<a name="l00111"></a>00111             $session = unserialize($_SESSION[<span class="stringliteral">&apos;booTwitter&apos;</span>]);
<a name="l00112"></a>00112             <span class="keywordflow">foreach</span> (get_object_vars($session) as $key =&gt; $value) {
<a name="l00113"></a>00113                 $this-&gt;$key = $value;
<a name="l00114"></a>00114             }
<a name="l00115"></a>00115             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00116"></a>00116         } <span class="keywordflow">else</span> {
<a name="l00117"></a>00117             trigger_error(<span class="stringliteral">&apos;No Twitter session found&apos;</span>, E_USER_WARNING);
<a name="l00118"></a>00118             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00119"></a>00119         }
<a name="l00120"></a>00120     }
<a name="l00121"></a>00121     
<a name="l00122"></a><a class="code" href="class_boo___twitter.html#af31aa1c9bbdb5930983fdcfe787b331b">00122</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#af31aa1c9bbdb5930983fdcfe787b331b">hasSession</a>() {
<a name="l00123"></a>00123         <span class="keywordflow">return</span> isset($_SESSION[<span class="stringliteral">&apos;booTwitter&apos;</span>]);
<a name="l00124"></a>00124     }
<a name="l00125"></a>00125     
<a name="l00126"></a><a class="code" href="class_boo___twitter.html#a765e6d7ca2b7b09a953e993c315488fb">00126</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a765e6d7ca2b7b09a953e993c315488fb">getSession</a>() {
<a name="l00127"></a>00127         <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="class_boo___twitter.html#af31aa1c9bbdb5930983fdcfe787b331b">hasSession</a>()) {
<a name="l00128"></a>00128             <span class="keywordflow">return</span> unserialize($_SESSION[<span class="stringliteral">&apos;booTwitter&apos;</span>]);
<a name="l00129"></a>00129         } <span class="keywordflow">else</span> {
<a name="l00130"></a>00130             trigger_error(<span class="stringliteral">&apos;No Twitter session found&apos;</span>, E_USER_NOTICE);
<a name="l00131"></a>00131             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00132"></a>00132         }
<a name="l00133"></a>00133     }
<a name="l00134"></a>00134     
<a name="l00135"></a><a class="code" href="class_boo___twitter.html#a67352012753e59e5470e2faa01736f70">00135</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_boo___twitter.html#a67352012753e59e5470e2faa01736f70">getSupportedFormats</a>() { <span class="keywordflow">return</span> self::$supportedFormats; }
<a name="l00136"></a>00136     
<a name="l00137"></a><a class="code" href="class_boo___twitter.html#a4e4b5b76d6e431b2f164dee1800afe3c">00137</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_boo___twitter.html#a4e4b5b76d6e431b2f164dee1800afe3c">isSupportedFormat</a>(<a class="code" href="class_boo___twitter.html#a65ad7217150158c6b29b2b7e76f76fbd" title="Return format.">$format</a>) {
<a name="l00138"></a>00138         <a class="code" href="class_boo___twitter.html#a65ad7217150158c6b29b2b7e76f76fbd" title="Return format.">$format</a> = strtolower(trim(<a class="code" href="class_boo___twitter.html#a65ad7217150158c6b29b2b7e76f76fbd" title="Return format.">$format</a>));
<a name="l00139"></a>00139         <span class="keywordflow">return</span> in_array(<a class="code" href="class_boo___twitter.html#a65ad7217150158c6b29b2b7e76f76fbd" title="Return format.">$format</a>, $this-&gt;supportedFormats);
<a name="l00140"></a>00140     }
<a name="l00141"></a>00141     
<a name="l00142"></a><a class="code" href="class_boo___twitter.html#af72d0224fb2586afbe42515704155b54">00142</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_boo___twitter.html#af72d0224fb2586afbe42515704155b54">getSupportedDevices</a>() { <span class="keywordflow">return</span> self::$supportedDevices; }
<a name="l00143"></a>00143     
<a name="l00144"></a><a class="code" href="class_boo___twitter.html#a83223c3fd816eba8d776cd864faebc92">00144</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_boo___twitter.html#a83223c3fd816eba8d776cd864faebc92">isSupportedDevice</a>($device) {
<a name="l00145"></a>00145         $device = strtolower(trim($device));
<a name="l00146"></a>00146         <span class="keywordflow">return</span> in_array($device, $this-&gt;supportedDevices);
<a name="l00147"></a>00147     }
<a name="l00148"></a>00148     
<a name="l00149"></a>00149     
<a name="l00150"></a><a class="code" href="class_boo___twitter.html#a3d49d2026b6f8f3946f06d7d02037ec3">00150</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a3d49d2026b6f8f3946f06d7d02037ec3">getCredentials</a>() { <span class="keywordflow">return</span> sprintf(<span class="stringliteral">&apos;%s:%s&apos;</span>, $this-&gt;username, $this-&gt;password); }
<a name="l00151"></a>00151     
<a name="l00152"></a><a class="code" href="class_boo___twitter.html#a5444a7abdad79c9f622371a00b2851b8">00152</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a5444a7abdad79c9f622371a00b2851b8">setApplicationSource</a>($source) {
<a name="l00153"></a>00153         $source = trim($source);
<a name="l00154"></a>00154         <span class="keywordflow">if</span> (<a class="code" href="class_boo___validator.html#abd996a1b6f2e4c7d07e5c8b2eef28f51" title="Determins if a value is a string or not.">Boo_Validator::isString</a>($source)) {
<a name="l00155"></a>00155             $this-&gt;applicationSource = $source;
<a name="l00156"></a>00156             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00157"></a>00157         } <span class="keywordflow">else</span> {
<a name="l00158"></a>00158             trigger_error(<span class="stringliteral">&quot;Source {$source} is not valid&quot;</span>, E_USER_WARNING);
<a name="l00159"></a>00159             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00160"></a>00160         }
<a name="l00161"></a>00161     }
<a name="l00162"></a>00162     
<a name="l00163"></a><a class="code" href="class_boo___twitter.html#a2d8d9d52a65fb139cff5976559b9971f">00163</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a2d8d9d52a65fb139cff5976559b9971f">setFormat</a>(<a class="code" href="class_boo___twitter.html#a65ad7217150158c6b29b2b7e76f76fbd" title="Return format.">$format</a>) {
<a name="l00164"></a>00164         $this-&gt;format = strtolower(trim(<a class="code" href="class_boo___twitter.html#a65ad7217150158c6b29b2b7e76f76fbd" title="Return format.">$format</a>));
<a name="l00165"></a>00165         
<a name="l00166"></a>00166         <span class="keywordflow">if</span> (self::isSupportedFormat(<a class="code" href="class_boo___twitter.html#a65ad7217150158c6b29b2b7e76f76fbd" title="Return format.">$format</a>)) {
<a name="l00167"></a>00167             $this-&gt;format = <a class="code" href="class_boo___twitter.html#a65ad7217150158c6b29b2b7e76f76fbd" title="Return format.">$format</a>;
<a name="l00168"></a>00168             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00169"></a>00169         } <span class="keywordflow">else</span> {
<a name="l00170"></a>00170             trigger_error(<span class="stringliteral">&quot;Format {$format} is not valid&quot;</span>, E_USER_WARNING);
<a name="l00171"></a>00171             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00172"></a>00172         }
<a name="l00173"></a>00173     }
<a name="l00174"></a>00174     
<a name="l00175"></a><a class="code" href="class_boo___twitter.html#abcba9d36979d23d4ced3823520ada5b8">00175</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#abcba9d36979d23d4ced3823520ada5b8">setUsername</a>(<a class="code" href="class_boo___twitter.html#a3696ce1a73b1a25e6923fcc4a1d703c0" title="Twitter username.">$username</a>) {
<a name="l00176"></a>00176         <a class="code" href="class_boo___twitter.html#a3696ce1a73b1a25e6923fcc4a1d703c0" title="Twitter username.">$username</a> = trim(<a class="code" href="class_boo___twitter.html#a3696ce1a73b1a25e6923fcc4a1d703c0" title="Twitter username.">$username</a>);
<a name="l00177"></a>00177         <span class="keywordflow">if</span> (<a class="code" href="class_boo___validator.html#a8f239d0e5d25ab4af327e45b099ab45a" title="Determins if a value is alphanumeric plus the undersocre.">Boo_Validator::isAlphaNumPlus</a>(<a class="code" href="class_boo___twitter.html#a3696ce1a73b1a25e6923fcc4a1d703c0" title="Twitter username.">$username</a>, <a class="code" href="class_boo___twitter.html#a35818608a974d63b5365400db2aab490" title="Minimum length of username.">Boo_Twitter::MIN_USERNAME_LENGTH</a>, <a class="code" href="class_boo___twitter.html#a6cf644c7e0c93453551f8923fdbc3c72" title="Maximum length of username.">Boo_Twitter::MAX_USERNAME_LENGTH</a>)) {
<a name="l00178"></a>00178             $this-&gt;username = <a class="code" href="class_boo___twitter.html#a3696ce1a73b1a25e6923fcc4a1d703c0" title="Twitter username.">$username</a>;
<a name="l00179"></a>00179             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00180"></a>00180         } <span class="keywordflow">else</span> {
<a name="l00181"></a>00181             trigger_error(<span class="stringliteral">&quot;Username {$username} is not valid&quot;</span>, E_USER_WARNING);
<a name="l00182"></a>00182             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00183"></a>00183         }
<a name="l00184"></a>00184     }
<a name="l00185"></a>00185     
<a name="l00186"></a><a class="code" href="class_boo___twitter.html#a37ae883e21f663d6425f708c127684fb">00186</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a37ae883e21f663d6425f708c127684fb">getUsername</a>() { <span class="keywordflow">return</span> $this-&gt;username; }
<a name="l00187"></a>00187     
<a name="l00188"></a><a class="code" href="class_boo___twitter.html#a0ad77493b16a69327805d18d0edfb260">00188</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a0ad77493b16a69327805d18d0edfb260">setPassword</a>(<a class="code" href="class_boo___twitter.html#afe2546405dff70ea7801af44206cb34a" title="Twitter password.">$password</a>) {
<a name="l00189"></a>00189         <a class="code" href="class_boo___twitter.html#afe2546405dff70ea7801af44206cb34a" title="Twitter password.">$password</a> = trim(<a class="code" href="class_boo___twitter.html#afe2546405dff70ea7801af44206cb34a" title="Twitter password.">$password</a>);
<a name="l00190"></a>00190         <span class="keywordflow">if</span> (<a class="code" href="class_boo___validator.html#abd996a1b6f2e4c7d07e5c8b2eef28f51" title="Determins if a value is a string or not.">Boo_Validator::isString</a>(<a class="code" href="class_boo___twitter.html#afe2546405dff70ea7801af44206cb34a" title="Twitter password.">$password</a>, <a class="code" href="class_boo___twitter.html#a7e8f9ada577cf42713f51f67286f0d7f" title="Minimum length of password.">Boo_Twitter::MIN_PASSWORD_LENGTH</a>, <a class="code" href="class_boo___twitter.html#aac75ffe6794fa62378130772e523441e" title="Maximum length of password.">Boo_Twitter::MAX_PASSWORD_LENGTH</a>)) {
<a name="l00191"></a>00191             $this-&gt;password = <a class="code" href="class_boo___twitter.html#afe2546405dff70ea7801af44206cb34a" title="Twitter password.">$password</a>;
<a name="l00192"></a>00192             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00193"></a>00193         } <span class="keywordflow">else</span> {
<a name="l00194"></a>00194             trigger_error(<span class="stringliteral">&quot;Password {$password} is not valid&quot;</span>, E_USER_WARNING);
<a name="l00195"></a>00195             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00196"></a>00196         }
<a name="l00197"></a>00197     }
<a name="l00198"></a>00198     
<a name="l00199"></a><a class="code" href="class_boo___twitter.html#ab26c767c1f20f7856ee31becb7bd4b86">00199</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#ab26c767c1f20f7856ee31becb7bd4b86">getPublicTimeline</a>($sinceId = 0) {
<a name="l00200"></a>00200         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/statuses/public_timeline.%s&apos;</span>, $this-&gt;format);
<a name="l00201"></a>00201         <span class="keywordflow">if</span> ($sinceId &gt; 0) {
<a name="l00202"></a>00202             $apiCall .= sprintf(<span class="stringliteral">&apos;?since_id=%d&apos;</span>, $sinceId);
<a name="l00203"></a>00203         }
<a name="l00204"></a>00204         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall);
<a name="l00205"></a>00205     }
<a name="l00206"></a>00206     
<a name="l00207"></a><a class="code" href="class_boo___twitter.html#a7102b2a3315c0a56f34cab790283dd2a">00207</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a7102b2a3315c0a56f34cab790283dd2a">getFriendsTimeline</a>($id = null, $since = null) {
<a name="l00208"></a>00208         $id = trim($id);
<a name="l00209"></a>00209         $since = trim($since);
<a name="l00210"></a>00210         <span class="keywordflow">if</span> ($id != null) {
<a name="l00211"></a>00211             $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/statuses/friends_timeline/%s.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00212"></a>00212         }
<a name="l00213"></a>00213         <span class="keywordflow">else</span> {
<a name="l00214"></a>00214             $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/statuses/friends_timeline.%s&apos;</span>, $this-&gt;format);
<a name="l00215"></a>00215         }
<a name="l00216"></a>00216         <span class="keywordflow">if</span> ($since != null) {
<a name="l00217"></a>00217             $apiCall .= sprintf(<span class="stringliteral">&apos;?since=%s&apos;</span>, urlencode($since));
<a name="l00218"></a>00218         }
<a name="l00219"></a>00219         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00220"></a>00220     }
<a name="l00221"></a>00221     
<a name="l00222"></a><a class="code" href="class_boo___twitter.html#a678f85d5f1675f405dc217c5a81331a3">00222</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a678f85d5f1675f405dc217c5a81331a3">getUserTimeline</a>($id = null, $count = 20, $since = null) {
<a name="l00223"></a>00223         $id = trim($id);
<a name="l00224"></a>00224         $since = trim($since);
<a name="l00225"></a>00225         <span class="keywordflow">if</span> ($id != null) {
<a name="l00226"></a>00226             $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/statuses/user_timeline/%s.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00227"></a>00227         }
<a name="l00228"></a>00228         <span class="keywordflow">else</span> {
<a name="l00229"></a>00229             $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/statuses/user_timeline.%s&apos;</span>, $this-&gt;format);
<a name="l00230"></a>00230         }
<a name="l00231"></a>00231         <span class="keywordflow">if</span> ($count != 20) {
<a name="l00232"></a>00232             $apiCall .= sprintf(<span class="stringliteral">&apos;?count=%d&apos;</span>, $count);
<a name="l00233"></a>00233         }
<a name="l00234"></a>00234         <span class="keywordflow">if</span> ($since != null) {
<a name="l00235"></a>00235             $apiCall .= sprintf(<span class="stringliteral">&apos;%ssince=%s&apos;</span>, (strpos($apiCall, <span class="stringliteral">&apos;?count=&apos;</span>) === <span class="keyword">false</span>) ? <span class="charliteral">&apos;?&apos;</span> : <span class="charliteral">&apos;&amp;&apos;</span>, urlencode($since));
<a name="l00236"></a>00236         }
<a name="l00237"></a>00237         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00238"></a>00238     }
<a name="l00239"></a>00239     
<a name="l00240"></a><a class="code" href="class_boo___twitter.html#a61a007d5b23685ca40aeae4acbdb6e7d">00240</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a61a007d5b23685ca40aeae4acbdb6e7d">showStatus</a>($id) {
<a name="l00241"></a>00241         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/statuses/show/%d.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00242"></a>00242         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall);
<a name="l00243"></a>00243     }
<a name="l00244"></a>00244     
<a name="l00245"></a><a class="code" href="class_boo___twitter.html#a84860c80a6f7b88222db97770ab2b5a9">00245</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a84860c80a6f7b88222db97770ab2b5a9">updateStatus</a>($status) {
<a name="l00246"></a>00246         $status = urlencode(stripslashes(urldecode($status)));
<a name="l00247"></a>00247         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/statuses/update.xml?status=%s&apos;</span>, $status);
<a name="l00248"></a>00248         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00249"></a>00249     }
<a name="l00250"></a>00250     
<a name="l00251"></a><a class="code" href="class_boo___twitter.html#a077dc9bc87353f0ba960f801045a9838">00251</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a077dc9bc87353f0ba960f801045a9838">getReplies</a>($page = 0) {
<a name="l00252"></a>00252         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/statuses/replies.%s&apos;</span>, $this-&gt;format);
<a name="l00253"></a>00253         <span class="keywordflow">if</span> ($page) {
<a name="l00254"></a>00254             $apiCall .= sprintf(<span class="stringliteral">&apos;?page=%d&apos;</span>, $page);
<a name="l00255"></a>00255         }
<a name="l00256"></a>00256         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00257"></a>00257     }
<a name="l00258"></a>00258     
<a name="l00259"></a><a class="code" href="class_boo___twitter.html#a2d5b2be9b1ce8eed85f6c5a2a2d64f35">00259</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a2d5b2be9b1ce8eed85f6c5a2a2d64f35">destroyStatus</a>($id) {
<a name="l00260"></a>00260         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/statuses/destroy/%d.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00261"></a>00261         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00262"></a>00262     }
<a name="l00263"></a>00263     
<a name="l00264"></a><a class="code" href="class_boo___twitter.html#acebe15db333033b9f90ad327965da31f">00264</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#acebe15db333033b9f90ad327965da31f">getFriends</a>($id = null) {
<a name="l00265"></a>00265         $id = trim($id);
<a name="l00266"></a>00266         <span class="comment">// take care of the id parameter</span>
<a name="l00267"></a>00267         <span class="keywordflow">if</span> ($id != null) {
<a name="l00268"></a>00268             $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/statuses/friends/%s.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00269"></a>00269         }
<a name="l00270"></a>00270         <span class="keywordflow">else</span> {
<a name="l00271"></a>00271             $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/statuses/friends.%s&apos;</span>, $this-&gt;format);
<a name="l00272"></a>00272         }
<a name="l00273"></a>00273         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00274"></a>00274     }
<a name="l00275"></a>00275     
<a name="l00276"></a><a class="code" href="class_boo___twitter.html#aa92d6580262f9ada7fb38f79e881fe81">00276</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#aa92d6580262f9ada7fb38f79e881fe81">getFollowers</a>($id = null, $page = 1, $lite = <span class="keyword">false</span>) {
<a name="l00277"></a>00277         $id = trim($id);
<a name="l00278"></a>00278         <span class="comment">// either get authenticated users followers, or followers of specified id</span>
<a name="l00279"></a>00279         <span class="keywordflow">if</span> ($id != null) {
<a name="l00280"></a>00280             $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/statuses/followers/%s.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00281"></a>00281         }
<a name="l00282"></a>00282         <span class="keywordflow">else</span> {
<a name="l00283"></a>00283             $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/statuses/followers.%s&apos;</span>, $this-&gt;format);
<a name="l00284"></a>00284         }
<a name="l00285"></a>00285         <span class="comment">// pagination</span>
<a name="l00286"></a>00286         <span class="keywordflow">if</span> ($page &gt; 1) {
<a name="l00287"></a>00287             $apiCall .= sprintf(<span class="stringliteral">&apos;?page=%d&apos;</span>, $page);
<a name="l00288"></a>00288         }
<a name="l00289"></a>00289         <span class="comment">// this isnt in the documentation, but apparently it works</span>
<a name="l00290"></a>00290         <span class="keywordflow">if</span> ($lite) {
<a name="l00291"></a>00291             $apiCall .= sprintf(<span class="stringliteral">&apos;%slite=true&apos;</span>, ($page &gt; 1) ? <span class="charliteral">&apos;&amp;&apos;</span> : <span class="charliteral">&apos;?&apos;</span>);
<a name="l00292"></a>00292         }
<a name="l00293"></a>00293         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00294"></a>00294     }
<a name="l00295"></a>00295     
<a name="l00296"></a><a class="code" href="class_boo___twitter.html#a274669ca7ba7e7f37f6e9acee2baad55">00296</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a274669ca7ba7e7f37f6e9acee2baad55">getFeatured</a>() {
<a name="l00297"></a>00297         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/statuses/featured.%s&apos;</span>, $this-&gt;format);
<a name="l00298"></a>00298         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall);
<a name="l00299"></a>00299     }
<a name="l00300"></a>00300     
<a name="l00301"></a><a class="code" href="class_boo___twitter.html#a039da670dd71f074fe39c80e5fb0e191">00301</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a039da670dd71f074fe39c80e5fb0e191">showUser</a>($id) {
<a name="l00302"></a>00302         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/users/show/%d.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00303"></a>00303         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00304"></a>00304     }
<a name="l00305"></a>00305 
<a name="l00306"></a><a class="code" href="class_boo___twitter.html#ab38da5e0c6fab595dfafec705973cfb3">00306</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#ab38da5e0c6fab595dfafec705973cfb3">showUserByEmail</a>($email) {
<a name="l00307"></a>00307         $email = trim($email);
<a name="l00308"></a>00308         
<a name="l00309"></a>00309         <span class="keywordflow">if</span> (!<a class="code" href="class_boo___validator.html#aa7236c4b2b732280174843978380861b" title="Determins if an email address is valid.">Boo_Validator::isEmail</a>($email)) {
<a name="l00310"></a>00310             trigger_error(<span class="stringliteral">&quot;Email {$email} is not valid&quot;</span>, E_USER_WARNING);
<a name="l00311"></a>00311             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00312"></a>00312         }
<a name="l00313"></a>00313         
<a name="l00314"></a>00314         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/users/show.xml?email=%s&apos;</span>, $email);
<a name="l00315"></a>00315         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00316"></a>00316     }
<a name="l00317"></a>00317     
<a name="l00318"></a><a class="code" href="class_boo___twitter.html#a4096afb7247b6882ac3fee3770e397c1">00318</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a4096afb7247b6882ac3fee3770e397c1">showUserByScreenName</a>($screenName) {
<a name="l00319"></a>00319         $screenName = trim($screenName);
<a name="l00320"></a>00320         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/users/show.xml?screen_name=%s&apos;</span>, $screenName);
<a name="l00321"></a>00321         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00322"></a>00322     }
<a name="l00323"></a>00323     
<a name="l00324"></a><a class="code" href="class_boo___twitter.html#a0766f28e9dbb6636695d5325eaa12b5d">00324</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a0766f28e9dbb6636695d5325eaa12b5d">getMessages</a>($since = null, $sinceId = 0, $page = 1) {
<a name="l00325"></a>00325         $since = trim($since);
<a name="l00326"></a>00326         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/direct_messages.%s&apos;</span>, $this-&gt;format);
<a name="l00327"></a>00327         <span class="keywordflow">if</span> ($since != null) {
<a name="l00328"></a>00328             $apiCall .= sprintf(<span class="stringliteral">&apos;?since=%s&apos;</span>, urlencode($since));
<a name="l00329"></a>00329         }
<a name="l00330"></a>00330         <span class="keywordflow">if</span> ($sinceId &gt; 0) {
<a name="l00331"></a>00331             $apiCall .= sprintf(<span class="stringliteral">&apos;%ssince_id=%d&apos;</span>, (strpos($apiCall, <span class="stringliteral">&apos;?since&apos;</span>) === <span class="keyword">false</span>) ? <span class="charliteral">&apos;?&apos;</span> : <span class="charliteral">&apos;&amp;&apos;</span>, $sinceId);
<a name="l00332"></a>00332         }
<a name="l00333"></a>00333         <span class="keywordflow">if</span> ($page &gt; 1) {
<a name="l00334"></a>00334             $apiCall .= sprintf(<span class="stringliteral">&apos;%spage=%d&apos;</span>, (strpos($apiCall, <span class="stringliteral">&apos;?since&apos;</span>) === <span class="keyword">false</span>) ? <span class="charliteral">&apos;?&apos;</span> : <span class="charliteral">&apos;&amp;&apos;</span>, $page);
<a name="l00335"></a>00335         }
<a name="l00336"></a>00336         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00337"></a>00337     }
<a name="l00338"></a>00338     
<a name="l00339"></a><a class="code" href="class_boo___twitter.html#a25fb8cc5e56e79bc6f6f6984e22c77d3">00339</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a25fb8cc5e56e79bc6f6f6984e22c77d3">getSentMessages</a>($since = null, $sinceId = 0, $page = 1) {
<a name="l00340"></a>00340         $since = trim($since);
<a name="l00341"></a>00341         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/direct_messages/sent.%s&apos;</span>, $this-&gt;format);
<a name="l00342"></a>00342         <span class="keywordflow">if</span> ($since != null) {
<a name="l00343"></a>00343             $apiCall .= sprintf(<span class="stringliteral">&apos;?since=%s&apos;</span>, urlencode($since));
<a name="l00344"></a>00344         }
<a name="l00345"></a>00345         <span class="keywordflow">if</span> ($sinceId &gt; 0) {
<a name="l00346"></a>00346             $apiCall .= sprintf(<span class="stringliteral">&apos;%ssince_id=%d&apos;</span>, (strpos($apiCall, <span class="stringliteral">&apos;?since&apos;</span>) === <span class="keyword">false</span>) ? <span class="charliteral">&apos;?&apos;</span> : <span class="charliteral">&apos;&amp;&apos;</span>, $sinceId);
<a name="l00347"></a>00347         }
<a name="l00348"></a>00348         <span class="keywordflow">if</span> ($page &gt; 1) {
<a name="l00349"></a>00349             $apiCall .= sprintf(<span class="stringliteral">&apos;%spage=%d&apos;</span>, (strpos($apiCall, <span class="stringliteral">&apos;?since&apos;</span>) === <span class="keyword">false</span>) ? <span class="charliteral">&apos;?&apos;</span> : <span class="charliteral">&apos;&amp;&apos;</span>, $page);
<a name="l00350"></a>00350         }
<a name="l00351"></a>00351         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00352"></a>00352     }
<a name="l00353"></a>00353     
<a name="l00354"></a><a class="code" href="class_boo___twitter.html#a4e9b54589c712f56093b87409f096bd6">00354</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a4e9b54589c712f56093b87409f096bd6">newMessage</a>(<a class="code" href="add-user_8php.html#a598ca4e71b15a1313ec95f0df1027ca5">$user</a>, <a class="code" href="html-all_8php.html#adf95f30eaafccead90ab5e2cdb55e9b9">$text</a>) {
<a name="l00355"></a>00355         <a class="code" href="html-all_8php.html#adf95f30eaafccead90ab5e2cdb55e9b9">$text</a> = urlencode(stripslashes(urldecode(<a class="code" href="html-all_8php.html#adf95f30eaafccead90ab5e2cdb55e9b9">$text</a>)));
<a name="l00356"></a>00356         <a class="code" href="add-user_8php.html#a598ca4e71b15a1313ec95f0df1027ca5">$user</a> = trim(<a class="code" href="add-user_8php.html#a598ca4e71b15a1313ec95f0df1027ca5">$user</a>);
<a name="l00357"></a>00357         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/direct_messages/new.%s?user=%s&amp;text=%s&apos;</span>, $this-&gt;format, <a class="code" href="add-user_8php.html#a598ca4e71b15a1313ec95f0df1027ca5">$user</a>, <a class="code" href="html-all_8php.html#adf95f30eaafccead90ab5e2cdb55e9b9">$text</a>);
<a name="l00358"></a>00358         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00359"></a>00359     }
<a name="l00360"></a>00360     
<a name="l00361"></a><a class="code" href="class_boo___twitter.html#a87e3c2e7b91ac1381dcbfbe1d39c2a04">00361</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a87e3c2e7b91ac1381dcbfbe1d39c2a04">destroyMessage</a>($id) {
<a name="l00362"></a>00362         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/direct_messages/destroy/%d.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00363"></a>00363         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00364"></a>00364     }
<a name="l00365"></a>00365     
<a name="l00366"></a><a class="code" href="class_boo___twitter.html#a2c9d8d34513f112a4a98fbe950f08216">00366</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a2c9d8d34513f112a4a98fbe950f08216">createFriendship</a>($id) {
<a name="l00367"></a>00367         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/friendships/create/%d.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00368"></a>00368         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00369"></a>00369     }
<a name="l00370"></a>00370     
<a name="l00371"></a><a class="code" href="class_boo___twitter.html#a11ba1837678c6f212e5e729935ad440c">00371</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a11ba1837678c6f212e5e729935ad440c">destroyFriendship</a>($id) {
<a name="l00372"></a>00372         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/friendships/destroy/%d.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00373"></a>00373         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00374"></a>00374     }
<a name="l00375"></a>00375     
<a name="l00376"></a><a class="code" href="class_boo___twitter.html#acd806a2c75abff8a59a7de54bf80ad9a">00376</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#acd806a2c75abff8a59a7de54bf80ad9a">friendshipExists</a>($userA, $userB) {
<a name="l00377"></a>00377         $userA = trim($userA);
<a name="l00378"></a>00378         $userB = trim($userB);
<a name="l00379"></a>00379         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/friendships/exists.%s?user_a=%s&amp;user_b=%s&apos;</span>, $this-&gt;format, $userA, $userB);
<a name="l00380"></a>00380         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00381"></a>00381     }
<a name="l00382"></a>00382     
<a name="l00383"></a><a class="code" href="class_boo___twitter.html#ab3d85adad803ef962591494bf990b47c">00383</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#ab3d85adad803ef962591494bf990b47c">verifyCredentials</a>() {
<a name="l00384"></a>00384         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/account/verify_credentials.%s&apos;</span>, $this-&gt;format);
<a name="l00385"></a>00385         $apiCall = $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00386"></a>00386         
<a name="l00387"></a>00387         <span class="keywordflow">if</span> ($this-&gt;httpStatus == 200) {
<a name="l00388"></a>00388             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00389"></a>00389         } elseif ($this-&gt;httpStatus == 401) {
<a name="l00390"></a>00390             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00391"></a>00391         } <span class="keywordflow">else</span> {
<a name="l00392"></a>00392             trigger_error(<span class="stringliteral">&apos;Verify credentials failed, something is wrong&apos;</span>, E_USER_WARNING);
<a name="l00393"></a>00393             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00394"></a>00394         }
<a name="l00395"></a>00395     }
<a name="l00396"></a>00396     
<a name="l00397"></a><a class="code" href="class_boo___twitter.html#a6ba37c94031a23faa4fa3313ab059d62">00397</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a6ba37c94031a23faa4fa3313ab059d62">endSession</a>() {
<a name="l00398"></a>00398         $apiCall = <span class="stringliteral">&apos;http://twitter.com/account/end_session&apos;</span>;
<a name="l00399"></a>00399         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00400"></a>00400     }
<a name="l00401"></a>00401     <span class="comment"></span>
<a name="l00402"></a>00402 <span class="comment">    /**</span>
<a name="l00403"></a>00403 <span class="comment">     * @brief Updates location.</span>
<a name="l00404"></a>00404 <span class="comment">     * @depreciated</span>
<a name="l00405"></a>00405 <span class="comment">     * @return mixed Twitter data.</span>
<a name="l00406"></a>00406 <span class="comment">     * @param string $location Your location.</span>
<a name="l00407"></a>00407 <span class="comment">     */</span>
<a name="l00408"></a><a class="code" href="class_boo___twitter.html#a2650e0b16a9b480d4ccfc3e91f27e3b0">00408</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a2650e0b16a9b480d4ccfc3e91f27e3b0" title="Updates location. .">updateLocation</a>($location) {
<a name="l00409"></a>00409         $location = trim($location);
<a name="l00410"></a>00410         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/account/update_location.%s?location=%s&apos;</span>, $this-&gt;format, $location);
<a name="l00411"></a>00411         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00412"></a>00412     }
<a name="l00413"></a>00413     
<a name="l00414"></a><a class="code" href="class_boo___twitter.html#a5f4f84df61604b774ee9d9f341a81474">00414</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a5f4f84df61604b774ee9d9f341a81474">updateDeliveryDevice</a>($device) {
<a name="l00415"></a>00415         $device = strtolower(trim($device));
<a name="l00416"></a>00416         <span class="keywordflow">if</span> (self::isSupportedDevice($device)) {
<a name="l00417"></a>00417             $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/account/update_delivery_device.%s?device=%s&apos;</span>, $this-&gt;format, $device);
<a name="l00418"></a>00418             <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00419"></a>00419         } <span class="keywordflow">else</span> {
<a name="l00420"></a>00420             trigger_error(<span class="stringliteral">&quot;Device {$device} is not supported&quot;</span>, E_USER_WARNING);
<a name="l00421"></a>00421             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00422"></a>00422         }
<a name="l00423"></a>00423     }
<a name="l00424"></a>00424     
<a name="l00425"></a><a class="code" href="class_boo___twitter.html#afc7dbddff337deff1ca42d1f9cac5afd">00425</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#afc7dbddff337deff1ca42d1f9cac5afd">getRateLimitStatus</a>() {
<a name="l00426"></a>00426         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/account/rate_limit_status.%s&apos;</span>, $this-&gt;format);
<a name="l00427"></a>00427         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00428"></a>00428     }
<a name="l00429"></a>00429     
<a name="l00430"></a><a class="code" href="class_boo___twitter.html#a409c8dab83f7e568294c65002e0caee2">00430</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a409c8dab83f7e568294c65002e0caee2">getArchive</a>($page = 1) {
<a name="l00431"></a>00431         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/account/archive.%s&apos;</span>, $this-&gt;format);
<a name="l00432"></a>00432         <span class="keywordflow">if</span> ($page &gt; 1) {
<a name="l00433"></a>00433             $apiCall .= sprintf(<span class="stringliteral">&apos;?page=%d&apos;</span>, $page);
<a name="l00434"></a>00434         }
<a name="l00435"></a>00435         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00436"></a>00436     }
<a name="l00437"></a>00437     
<a name="l00438"></a><a class="code" href="class_boo___twitter.html#a35087feb20c97ef2e92a60cb8c7730f2">00438</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a35087feb20c97ef2e92a60cb8c7730f2">getFavorites</a>($id = null, $page = 1) {
<a name="l00439"></a>00439         $id = trim($id);
<a name="l00440"></a>00440         $page = (int) $page;
<a name="l00441"></a>00441         <span class="keywordflow">if</span> ($id == null) {
<a name="l00442"></a>00442             $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/favorites.%s&apos;</span>, $this-&gt;format);
<a name="l00443"></a>00443         }
<a name="l00444"></a>00444         <span class="keywordflow">else</span> {
<a name="l00445"></a>00445             $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/favorites/%s.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00446"></a>00446         }
<a name="l00447"></a>00447         <span class="keywordflow">if</span> ($page &gt; 1) {
<a name="l00448"></a>00448             $apiCall .= sprintf(<span class="stringliteral">&apos;?page=%d&apos;</span>, $page);
<a name="l00449"></a>00449         }
<a name="l00450"></a>00450         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00451"></a>00451     }
<a name="l00452"></a>00452     
<a name="l00453"></a><a class="code" href="class_boo___twitter.html#ab3568d8543195ae635a638a71f983f2d">00453</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#ab3568d8543195ae635a638a71f983f2d">createFavorite</a>($id) {
<a name="l00454"></a>00454         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/favorites/create/%d.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00455"></a>00455         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00456"></a>00456     }
<a name="l00457"></a>00457     
<a name="l00458"></a><a class="code" href="class_boo___twitter.html#a0db98b3bdbbb9d73cb14e4002890c488">00458</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a0db98b3bdbbb9d73cb14e4002890c488">destroyFavorite</a>($id) {
<a name="l00459"></a>00459         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/favorites/destroy/%d.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00460"></a>00460         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00461"></a>00461     }
<a name="l00462"></a>00462     
<a name="l00463"></a><a class="code" href="class_boo___twitter.html#aeff23693ad42f2b8216cbc8ed0d42acc">00463</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#aeff23693ad42f2b8216cbc8ed0d42acc">follow</a>($id) {
<a name="l00464"></a>00464         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/notifications/follow/%d.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00465"></a>00465         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00466"></a>00466     }
<a name="l00467"></a>00467     
<a name="l00468"></a><a class="code" href="class_boo___twitter.html#a0385e624bf7e14e9460997034d896fa2">00468</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a0385e624bf7e14e9460997034d896fa2">leave</a>($id) {
<a name="l00469"></a>00469         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/notifications/leave/%d.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00470"></a>00470         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00471"></a>00471     }
<a name="l00472"></a>00472     
<a name="l00473"></a><a class="code" href="class_boo___twitter.html#a39d72f3d8363b531cc813c4a966fcfe7">00473</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a39d72f3d8363b531cc813c4a966fcfe7">createBlock</a>($id) {
<a name="l00474"></a>00474         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/blocks/create/%d.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00475"></a>00475         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00476"></a>00476     }
<a name="l00477"></a>00477     
<a name="l00478"></a><a class="code" href="class_boo___twitter.html#a812b359c7d7f7eb9fc87d341ddd3a5e0">00478</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#a812b359c7d7f7eb9fc87d341ddd3a5e0">destroyBlock</a>($id) {
<a name="l00479"></a>00479         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/blocks/destroy/%d.%s&apos;</span>, $id, $this-&gt;format);
<a name="l00480"></a>00480         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l00481"></a>00481     }
<a name="l00482"></a>00482     
<a name="l00483"></a><a class="code" href="class_boo___twitter.html#adc703d76ee440108892f46d886264434">00483</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#adc703d76ee440108892f46d886264434">test</a>() {
<a name="l00484"></a>00484         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/help/test.%s&apos;</span>, $this-&gt;format);
<a name="l00485"></a>00485         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00486"></a>00486     }
<a name="l00487"></a>00487     
<a name="l00488"></a><a class="code" href="class_boo___twitter.html#ada21b60363c5f73231d4738868795425">00488</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#ada21b60363c5f73231d4738868795425">getDowntimeSchedule</a>() {
<a name="l00489"></a>00489         $apiCall = sprintf(<span class="stringliteral">&apos;http://twitter.com/help/downtime_schedule.%s&apos;</span>, $this-&gt;format);
<a name="l00490"></a>00490         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiCall, <span class="keyword">true</span>);
<a name="l00491"></a>00491     }
<a name="l00492"></a>00492     
<a name="l00493"></a><a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">00493</a>     <span class="keyword">protected</span> function <a class="code" href="class_boo___twitter.html#a19464f3f03601f70ffa7eb6b1600c8eb">apiCall</a>($apiUrl, $requireCredentials = <span class="keyword">false</span>, $httpPost = <span class="keyword">false</span>) {
<a name="l00494"></a>00494         <span class="keywordflow">if</span> (!$this-&gt;<a class="code" href="class_boo___twitter.html#a700fb4f1d4d0544eb8f705624f0e2594">beforeApiCall</a>($apiUrl)) {
<a name="l00495"></a>00495             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00496"></a>00496         }
<a name="l00497"></a>00497         
<a name="l00498"></a>00498         $curlHandle = curl_init();
<a name="l00499"></a>00499         
<a name="l00500"></a>00500         <span class="keywordflow">if</span>($this-&gt;applicationSource) {
<a name="l00501"></a>00501             <span class="keywordflow">if</span> (strpos($apiUrl, <span class="charliteral">&apos;?&apos;</span>) === <span class="keyword">false</span>) {
<a name="l00502"></a>00502                 $apiUrl .= <span class="stringliteral">&apos;?source=&apos;</span> . urlencode($this-&gt;applicationSource); <span class="comment">// first</span>
<a name="l00503"></a>00503             } <span class="keywordflow">else</span> {
<a name="l00504"></a>00504                 $apiUrl .= <span class="stringliteral">&apos;&amp;source=&apos;</span> . urlencode($this-&gt;applicationSource); <span class="comment">// not first</span>
<a name="l00505"></a>00505             }
<a name="l00506"></a>00506         }
<a name="l00507"></a>00507         curl_setopt($curlHandle, CURLOPT_URL, $apiUrl);
<a name="l00508"></a>00508         
<a name="l00509"></a>00509         <span class="keywordflow">if</span> ($requireCredentials) {
<a name="l00510"></a>00510             curl_setopt($curlHandle, CURLOPT_USERPWD, $this-&gt;<a class="code" href="class_boo___twitter.html#a3d49d2026b6f8f3946f06d7d02037ec3">getCredentials</a>());
<a name="l00511"></a>00511         }
<a name="l00512"></a>00512         
<a name="l00513"></a>00513         <span class="keywordflow">if</span> ($httpPost) {
<a name="l00514"></a>00514             curl_setopt($curlHandle, CURLOPT_POST, <span class="keyword">true</span>);
<a name="l00515"></a>00515         }
<a name="l00516"></a>00516         
<a name="l00517"></a>00517         curl_setopt($curlHandle, CURLOPT_RETURNTRANSFER, TRUE);
<a name="l00518"></a>00518         curl_setopt($curlHandle, CURLOPT_HTTPHEADER, array(<span class="stringliteral">&apos;Expect:&apos;</span>));
<a name="l00519"></a>00519         
<a name="l00520"></a>00520         $twitterData = curl_exec($curlHandle);
<a name="l00521"></a>00521         $this-&gt;httpStatus = curl_getinfo($curlHandle, CURLINFO_HTTP_CODE);
<a name="l00522"></a>00522         $this-&gt;<a class="code" href="class_boo___twitter.html#aec09e1b1f1eabb1beeca26b6b0171c2d">lastApiCall</a> = $apiUrl;
<a name="l00523"></a>00523         
<a name="l00524"></a>00524         curl_close($curlHandle);
<a name="l00525"></a>00525         
<a name="l00526"></a>00526         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#a512133b45353c240b1301154ece51f86">afterApiCall</a>($twitterData);
<a name="l00527"></a>00527     }
<a name="l00528"></a>00528     
<a name="l00529"></a><a class="code" href="class_boo___twitter.html#a700fb4f1d4d0544eb8f705624f0e2594">00529</a>     <span class="keyword">protected</span> function <a class="code" href="class_boo___twitter.html#a700fb4f1d4d0544eb8f705624f0e2594">beforeApiCall</a>($apiUrl) {
<a name="l00530"></a>00530         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00531"></a>00531     }
<a name="l00532"></a>00532     
<a name="l00533"></a><a class="code" href="class_boo___twitter.html#a512133b45353c240b1301154ece51f86">00533</a>     <span class="keyword">protected</span> function <a class="code" href="class_boo___twitter.html#a512133b45353c240b1301154ece51f86">afterApiCall</a>($twitterData) {
<a name="l00534"></a>00534         <span class="keywordflow">return</span> $twitterData;
<a name="l00535"></a>00535     }
<a name="l00536"></a>00536     
<a name="l00537"></a><a class="code" href="class_boo___twitter.html#ab28c1115b0d04bd130a56b82895434a0">00537</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#ab28c1115b0d04bd130a56b82895434a0">lastStatusCode</a>() { <span class="keywordflow">return</span> $this-&gt;httpStatus; }
<a name="l00538"></a>00538     
<a name="l00539"></a><a class="code" href="class_boo___twitter.html#aec09e1b1f1eabb1beeca26b6b0171c2d">00539</a>     <span class="keyword">public</span> function <a class="code" href="class_boo___twitter.html#aec09e1b1f1eabb1beeca26b6b0171c2d">lastApiCall</a>() { <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_boo___twitter.html#aec09e1b1f1eabb1beeca26b6b0171c2d">lastApiCall</a>; }
<a name="l00540"></a>00540 }
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/>
<p style="text-align: center;">API Documentation for Boo-2.0.x is licensed under the <a rel="license" href="http://www.gnu.org/licenses/gpl-3.0.txt">GNU General Public License</a>.</p>
<p style="text-align: center;"><small>Generated on Wed Dec 9 17:42:39 2009 by <a href="http://www.doxygen.org/">Doxygen</a> 1.6.1</small>.</p>
</body>
</html>
