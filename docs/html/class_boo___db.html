<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<meta name="copyright" content="Copyright 2009 David Singer"/>
	<meta name="author" content="David Singer david@ramaboo.com"/>
	<meta name="description" content=""/>
	<meta name="keywords" content=""/>
	<title>API Documentation for Boo-2.0.x: Boo_Db Class Reference</title>
	<link rel="stylesheet" href="doxygen.css" type="text/css" media="screen">
	<link rel="stylesheet" href="tabs.css" type="text/css" media="screen">
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Boo_Db Class Reference</h1><!-- doxytag: class="Boo_Db" -->
<p>Database class.  
<a href="#_details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Boo_Db:</div>
<div class="dynsection">
 <div class="center">
  <img src="class_boo___db.gif" usemap="#Boo_Db_map" alt=""/>
  <map id="Boo_Db_map" name="Boo_Db_map">
<area href="class_boo___io.html" alt="Boo_Io" shape="rect" coords="46,56,128,80"/>
<area href="class_boo___lookup.html" alt="Boo_Lookup" shape="rect" coords="138,56,220,80"/>
<area href="class_boo___qrbg.html" alt="Boo_Qrbg" shape="rect" coords="230,56,312,80"/>
<area href="class_boo___twitter.html" alt="Boo_Twitter" shape="rect" coords="322,56,404,80"/>
<area href="class_boo___group.html" alt="Boo_Group" shape="rect" coords="0,112,82,136"/>
<area href="class_boo___user.html" alt="Boo_User" shape="rect" coords="92,112,174,136"/>
</map>
 </div>
</div>

<p><a href="class_boo___db-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_boo___db.html#a51a73d847c8a46909f8f3dbee527f545">__construct</a> ($tableName=false, $primaryKey=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default constructor.  <a href="#a51a73d847c8a46909f8f3dbee527f545"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_boo___db.html#ab7888146c7962cb9f68fa47e70d540e8">getPrimaryKey</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the primary key.  <a href="#ab7888146c7962cb9f68fa47e70d540e8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_boo___db.html#add18732dd73e4ce0285a9b853e23e7a8">getTableName</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the table name.  <a href="#add18732dd73e4ce0285a9b853e23e7a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_boo___db.html#ad13002d5aa73325a8a517b63ef1d32f5">setPrimaryKey</a> ($key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the primary key for the table.  <a href="#ad13002d5aa73325a8a517b63ef1d32f5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_boo___db.html#a30738785bc5d84159e2bd58a4b652b53">setTableName</a> ($tableName)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the table name.  <a href="#a30738785bc5d84159e2bd58a4b652b53"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_boo___db.html#a3a6db96c48448ee55608fddaef37c653">connect</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connects to a database.  <a href="#a3a6db96c48448ee55608fddaef37c653"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_boo___db.html#a641baac3e272fb1f76e0b4aa157f293f">$primaryKey</a> = 'boo_id'</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The name of the tables primary key.  <a href="#a641baac3e272fb1f76e0b4aa157f293f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_boo___db.html#ab929ae651e901f6c85a15a47f8f82b49">$tableName</a> = 'boo_default'</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The table name.  <a href="#ab929ae651e901f6c85a15a47f8f82b49"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Database class. </p>
<p>This class is used to connect to a database.</p>
<dl class="user"><dt><b>License:</b></dt><dd><a href="http://www.gnu.org/licenses/gpl-3.0.txt">http://www.gnu.org/licenses/gpl-3.0.txt</a> GNU General Public License </dd></dl>
<dl class="user"><dt><b>Link:</b></dt><dd><a href="http://code.ramaboo.com/">http://code.ramaboo.com/</a> Boo Framework </dd></dl>
<dl class="user"><dt><b>Copyright:</b></dt><dd>2008 David Singer </dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>David Singer &lt;<a href="mailto:david@ramaboo.com">david@ramaboo.com</a>&gt; </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>2.0.1 </dd></dl>

<p>Definition at line <a class="el" href="_db_8php_source.html#l00016">16</a> of file <a class="el" href="_db_8php_source.html">Db.php</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a51a73d847c8a46909f8f3dbee527f545"></a><!-- doxytag: member="Boo_Db::__construct" ref="a51a73d847c8a46909f8f3dbee527f545" args="($tableName=false, $primaryKey=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Boo_Db::__construct </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>primaryKey</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default constructor. </p>
<p>Handles shorthand object initialization.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName[optional] The table name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$primaryKey[optional] The primary key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>void. </dd></dl>

<p>Reimplemented in <a class="el" href="class_boo___io.html#aa5d3af65db445fcad58aab7c3531cf43">Boo_Io</a>, <a class="el" href="class_boo___lookup.html#a6ec0208b88cf0d34bb12844f8eb9e79b">Boo_Lookup</a>, <a class="el" href="class_boo___qrbg.html#a57bec3904a72792124089c2993856972">Boo_Qrbg</a>, and <a class="el" href="class_boo___twitter.html#af0fe5267f3169453296d0a7a5cfc962e">Boo_Twitter</a>.</p>

<p>Definition at line <a class="el" href="_db_8php_source.html#l00037">37</a> of file <a class="el" href="_db_8php_source.html">Db.php</a>.</p>

<p>References <a class="el" href="_db_8php_source.html#l00026">$primaryKey</a>, <a class="el" href="_db_8php_source.html#l00021">$tableName</a>, <a class="el" href="_db_8php_source.html#l00104">setPrimaryKey()</a>, and <a class="el" href="_db_8php_source.html#l00079">setTableName()</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3a6db96c48448ee55608fddaef37c653"></a><!-- doxytag: member="Boo_Db::connect" ref="a3a6db96c48448ee55608fddaef37c653" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static Boo_Db::connect </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Connects to a database. </p>
<p>This function is used to connect to a database, in this case <a href="http://www.mysql.com/">MySQL 5</a>. You will need to set <code>BOO_DB_CONNECTION_STRING</code>, <code>BOO_DB_USERNAME</code>, and <code>BOO_DB_PASSWORD</code> in your config file.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>PDO object.</dd></dl>
<div class="fragment"><pre class="fragment"> $dbh = <a class="code" href="class_boo___db.html#a3a6db96c48448ee55608fddaef37c653" title="Connects to a database.">Boo_Db::connect</a>();
</pre></div> 
<p>Definition at line <a class="el" href="_db_8php_source.html#l00060">60</a> of file <a class="el" href="_db_8php_source.html">Db.php</a>.</p>

<p>References <a class="el" href="error-all_8php_source.html#l00034">$e</a>.</p>

<p>Referenced by <a class="el" href="_qrbg_8php_source.html#l00423">Boo_Qrbg::clearCache()</a>, <a class="el" href="_io_8php_source.html#l01456">Boo_Io::count()</a>, <a class="el" href="_io_8php_source.html#l01402">Boo_Io::delete()</a>, <a class="el" href="_qrbg_8php_source.html#l00307">Boo_Qrbg::exec()</a>, <a class="el" href="_io_8php_source.html#l01710">Boo_Io::exists()</a>, <a class="el" href="_group_8php_source.html#l00182">Boo_Group::getGroupIdByName()</a>, <a class="el" href="_group_8php_source.html#l00049">Boo_Group::getGroups()</a>, <a class="el" href="_user_8php_source.html#l00986">Boo_User::login()</a>, <a class="el" href="_lookup_8php_source.html#l00110">Boo_Lookup::open()</a>, <a class="el" href="_io_8php_source.html#l01480">Boo_Io::open()</a>, <a class="el" href="_qrbg_8php_source.html#l00373">Boo_Qrbg::removeCacheById()</a>, <a class="el" href="_io_8php_source.html#l01235">Boo_Io::save()</a>, and <a class="el" href="_qrbg_8php_source.html#l00393">Boo_Qrbg::saveCache()</a>.</p>

</div>
</div>
<a class="anchor" id="ab7888146c7962cb9f68fa47e70d540e8"></a><!-- doxytag: member="Boo_Db::getPrimaryKey" ref="ab7888146c7962cb9f68fa47e70d540e8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Boo_Db::getPrimaryKey </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the primary key. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string The primary key. </dd></dl>

<p>Definition at line <a class="el" href="_db_8php_source.html#l00124">124</a> of file <a class="el" href="_db_8php_source.html">Db.php</a>.</p>

</div>
</div>
<a class="anchor" id="add18732dd73e4ce0285a9b853e23e7a8"></a><!-- doxytag: member="Boo_Db::getTableName" ref="add18732dd73e4ce0285a9b853e23e7a8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Boo_Db::getTableName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the table name. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string The table name. </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>2.0.0 </dd></dl>

<p>Definition at line <a class="el" href="_db_8php_source.html#l00096">96</a> of file <a class="el" href="_db_8php_source.html">Db.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad13002d5aa73325a8a517b63ef1d32f5"></a><!-- doxytag: member="Boo_Db::setPrimaryKey" ref="ad13002d5aa73325a8a517b63ef1d32f5" args="($key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Boo_Db::setPrimaryKey </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>key</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the primary key for the table. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$key The primary key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool Returns TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_db_8php_source.html#l00104">104</a> of file <a class="el" href="_db_8php_source.html">Db.php</a>.</p>

<p>References <a class="el" href="_validator_8php_source.html#l01226">Boo_Validator::isSqlSafe()</a>.</p>

<p>Referenced by <a class="el" href="_lookup_8php_source.html#l00035">Boo_Lookup::__construct()</a>, and <a class="el" href="_db_8php_source.html#l00037">__construct()</a>.</p>

</div>
</div>
<a class="anchor" id="a30738785bc5d84159e2bd58a4b652b53"></a><!-- doxytag: member="Boo_Db::setTableName" ref="a30738785bc5d84159e2bd58a4b652b53" args="($tableName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Boo_Db::setTableName </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the table name. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName The table name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool Returns TRUE on successs, FALSE otherwise. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>Check if table name exists in database and cache the result. </dd></dl>

<p>Definition at line <a class="el" href="_db_8php_source.html#l00079">79</a> of file <a class="el" href="_db_8php_source.html">Db.php</a>.</p>

<p>References <a class="el" href="_db_8php_source.html#l00021">$tableName</a>, and <a class="el" href="_validator_8php_source.html#l01226">Boo_Validator::isSqlSafe()</a>.</p>

<p>Referenced by <a class="el" href="_lookup_8php_source.html#l00035">Boo_Lookup::__construct()</a>, and <a class="el" href="_db_8php_source.html#l00037">__construct()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a641baac3e272fb1f76e0b4aa157f293f"></a><!-- doxytag: member="Boo_Db::$primaryKey" ref="a641baac3e272fb1f76e0b4aa157f293f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Boo_Db::$primaryKey = 'boo_id'<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The name of the tables primary key. </p>

<p>Definition at line <a class="el" href="_db_8php_source.html#l00026">26</a> of file <a class="el" href="_db_8php_source.html">Db.php</a>.</p>

<p>Referenced by <a class="el" href="_lookup_8php_source.html#l00035">Boo_Lookup::__construct()</a>, <a class="el" href="_db_8php_source.html#l00037">__construct()</a>, <a class="el" href="_io_8php_source.html#l00094">Boo_Io::__construct()</a>, <a class="el" href="_user_8php_source.html#l01375">Boo_User::exists()</a>, <a class="el" href="_io_8php_source.html#l01710">Boo_Io::exists()</a>, and <a class="el" href="_lookup_8php_source.html#l00341">Boo_Lookup::getFieldByPrimaryKey()</a>.</p>

</div>
</div>
<a class="anchor" id="ab929ae651e901f6c85a15a47f8f82b49"></a><!-- doxytag: member="Boo_Db::$tableName" ref="ab929ae651e901f6c85a15a47f8f82b49" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Boo_Db::$tableName = 'boo_default'<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The table name. </p>

<p>Definition at line <a class="el" href="_db_8php_source.html#l00021">21</a> of file <a class="el" href="_db_8php_source.html">Db.php</a>.</p>

<p>Referenced by <a class="el" href="_lookup_8php_source.html#l00035">Boo_Lookup::__construct()</a>, <a class="el" href="_db_8php_source.html#l00037">__construct()</a>, <a class="el" href="_io_8php_source.html#l00094">Boo_Io::__construct()</a>, <a class="el" href="_user_8php_source.html#l01375">Boo_User::exists()</a>, <a class="el" href="_io_8php_source.html#l01710">Boo_Io::exists()</a>, and <a class="el" href="_db_8php_source.html#l00079">setTableName()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/var/www/Boo-2.0.0/classes/<a class="el" href="_db_8php_source.html">Db.php</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/>
<p style="text-align: center;">API Documentation for Boo-2.0.x is licensed under the <a rel="license" href="http://www.gnu.org/licenses/gpl-3.0.txt">GNU General Public License</a>.</p>
<p style="text-align: center;"><small>Generated on Wed Dec 9 17:42:39 2009 by <a href="http://www.doxygen.org/">Doxygen</a> 1.6.1</small>.</p>
</body>
</html>
